# Self-hosted Image Hosting API

# Image Upload API Documentation

## Overview

This API is used to upload image files to the server and supports uploading various image formats.

## API Details

### Request Information

- **Request URL**: `https://imageproxy.zhongzhuan.chat/api/upload`
- **Request Method**: `POST`
- **Content-Type**: `multipart/form-data`

### Request Parameters

| Parameter | Type | Required | Description              |
| --------- | ---- | -------- | ------------------------ |
| file      | File | Yes      | The image file to upload |

### Request Examples

#### cURL Example

```bash
curl -X POST \
  https://imageproxy.zhongzhuan.chat/api/upload \
  -H 'Content-Type: multipart/form-data' \
  -F 'file=@/path/to/your/image.jpg'
```

#### JavaScript Example

```javascript
const formData = new FormData();
formData.append("file", fileInput.files[0]);

fetch("https://imageproxy.zhongzhuan.chat/api/upload", {
  method: "POST",
  body: formData,
})
  .then((response) => response.json())
  .then((data) => {
    console.log("Upload successful:", data);
  })
  .catch((error) => {
    console.error("Upload failed:", error);
  });
```

#### Python Example

```python
import requests

url = "https://imageproxy.zhongzhuan.chat/api/upload"
files = {'file': open('image.jpg', 'rb')}

response = requests.post(url, files=files)
print(response.json())
```

### Response Information

#### Success Response

**HTTP Status Code**: `200 OK`

**Response Format**: JSON

| Field   | Type   | Description                           |
| ------- | ------ | ------------------------------------- |
| url     | String | The access link to the uploaded image |
| created | Number | Creation timestamp (milliseconds)     |

#### Response Example

```json
{
  "url": "https://imageproxy.zhongzhuan.chat/api/proxy/image/2316ce07a01000cf14a628c8b29e97a8",
  "created": 1757403998946
}
```

### Error Response

Possible error status codes:

| Status Code | Description                                       |
| ----------- | ------------------------------------------------- |
| 400         | Request parameter error (e.g., file not provided) |
| 413         | File too large                                    |
| 415         | Unsupported file format                           |
| 500         | Internal server error                             |

#### Error Response Example

```json
{
  "error": "Unsupported file format",
  "code": 415
}
```

## Usage Instructions

1. **Supported file formats**: Common image formats such as JPG, PNG, GIF, WebP, etc.
2. **File size limit**: It is recommended that a single file does not exceed 10MB
3. **Returned URL**: Can be used directly to display the image, and the link is valid for a long time
4. **Timestamp format**: Unix timestamp in milliseconds

## Notes

- Uploaded images are processed through a proxy service to ensure access stability
- It is recommended to compress images appropriately on the client side to improve upload speed
- The returned image link supports cross-origin access
- Please ensure you have a network connection and proper permissions before uploading
